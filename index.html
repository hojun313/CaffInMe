<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CaffInMe - 내 몸속 카페인 트래커</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/2.0.1/chartjs-plugin-annotation.min.js" integrity="sha512-H0yQ4XPAtyd3GNBbD2JoLv2fbI/gB3HAJ3sM+c7GMEeTTKIIO495TU/2S7bPAw+d3w3sK/L5U5jV+NMc9T5KdA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div id="setup-screen">
        <h2>평소에 카페인 음료를 얼마나 자주 드시나요?</h2>
        <div class="setup-options">
            <button data-amount="0">전혀 마시지 않아요</button>
            <button data-amount="10">가끔 생각날 때만 마셔요</button>
            <button data-amount="30">일주일에 1~2번 정도 마셔요</button>
            <button data-amount="50">일주일에 3~5번 정도 마셔요</button>
            <button data-amount="70">거의 매일 마셔요</button>
        </div>
    </div>

    <div id="main-tracker" class="hidden">
        <div class="container">
            <h1>CaffInMe</h1>
            <button id="help-btn" title="도움말">?</button>
        </div>
        <div class="top-panel">
            <div class="panel status-panel">
                <div id="caffeine-status">
                    <h1>현재 체내 카페인</h1>
                    <p id="caffeine-level">-- mg</p>
                </div>
                <button id="history-btn">섭취 기록 보기</button>
                <button id="reset-btn" title="초기화"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 0 24 24" width="20px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg></button>
            </div>
            <div class="panel controls-panel">
                <button id="add-2shots">2샷 추가 (150mg)</button>
                <button id="add-1shot">1샷 추가 (75mg)</button>
                <button id="add-4shots">4샷 추가 (300mg)</button>
                <button id="add-past-btn">과거 기록 추가</button>
            </div>
        </div>
        <div class="graph-panel"><canvas id="caffeine-chart"></canvas></div>
    </div>

    <div id="help-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn" id="close-help-btn">&times;</span>
            <h2>도움말</h2>
            <h3>카페인 반감기란?</h3>
            <p>카페인 반감기는 우리 몸이 섭취한 카페인의 양을 절반으로 줄이는 데 걸리는 시간을 의미합니다. 일반적으로 성인의 경우 약 5시간 정도 소요됩니다. 저희 앱은 이 원리를 사용하여 시간에 따른 체내 카페인 양을 추정합니다.</p>
            <h3>숙면을 위한 50mg</h3>
            <p>개인차가 있지만, 보통 체내 카페인이 50mg 이하일 때 수면에 큰 영향을 주지 않는 '안전 구간'으로 봅니다. 그래프의 녹색 영역은 이 50mg 이하 구간을 나타내며, 편안한 잠을 자기 좋은 상태를 의미합니다.</p>
        </div>
    </div>

    <div id="past-entry-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn" id="close-past-entry-btn">&times;</span>
            <h2>과거 기록 추가</h2>
            <h3>섭취량</h3>
            <div class="modal-controls">
                <button data-amount="75">1샷 (75mg)</button>
                <button data-amount="150">2샷 (150mg)</button>
                <button data-amount="300">4샷 (300mg)</button>
            </div>
            <h3>섭취 시간</h3>
            <input type="datetime-local" id="past-time-input">
            <button class="save-btn" id="save-past-entry-btn">저장하기</button>
        </div>
    </div>

    <div id="history-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn" id="close-history-btn">&times;</span>
            <h2>카페인 섭취 기록</h2>
            <ul id="history-list" class="history-list"></ul>
        </div>
    </div>

    <script src="js/script.js"></script>

</body>
</html>
